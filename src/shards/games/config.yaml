.shards:
  class: dweller
  .games:
    class: shards/games/games
    apiActions:
      newGame:
        description: Starts new game
        params:
          scenarioId:
            required: true
            description: 'Model of the game'
            type: string
          cityName:
            required: true
            description: 'City name'
            type: string
          playerId:
            description: 'Player Id'
            type: string
    providerConfig:
      collection: games
    forceUuids: true
    schema:
      fields:
        started:
          code: started
          title: Started
          type:
            name: number # time
        finished:
          code: finished
          title: Finished
          type:
            name: number # time
        scenarioId:
          code: scenarioId
          title: Scenario Id
          type:
            name: string
        chronicleChatId:
          code: chronicleChatId
          title: Chronicle chat
          type: 
            name: link
            storageId: shards.chats
        cityName:
          code: cityName
          title: City Name
          type:
            name: string
        playerId:
          code: playerId
          title: Player Id
          type:
            name: string
        year:
          code: year
          title: Year
          type:
            name: number
        season:
          code: season
          title: Season [0-3]
          type:
            name: number
    model:
      class: shards/games/game
      apiActions: 
        addEvent:
          description: Adds event
          params:
            text:
              required: true
              description: text
              type: string
        getChat:
          description: Get chat
        next:
          description: Get to next chronicle
        callChancellor:
          description: Calls chancellor